<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta http-equiv="x-ua-compatible" content="IE=edge" />
  <meta name="color-scheme" content="dark light" />

  <title>Crypto Converter: BTC, ETH, SOL to USD/INR/EUR (Live) | UpTools</title>
  <meta name="description" content="Convert crypto to fiat or coin-to-coin with live rates. BTC to INR, ETH to USD, SOL to EUR, or BTC to ETH. Uses CoinCap for crypto and mid-market FX for fiat." />
  <meta name="robots" content="index,follow,max-snippet:-1,max-image-preview:large,max-video-preview:-1" />
  <meta name="theme-color" content="#0b1020" />
  <link rel="canonical" href="https://www.uptools.in/crypto-converter/" />

  <meta property="og:title" content="Crypto Converter (Live)" />
  <meta property="og:description" content="Convert BTC, ETH, SOL to USD/INR/EUR or coin-to-coin. Live rates, fees and shareable results." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://www.uptools.in/crypto-converter/" />
  <meta property="og:site_name" content="UpTools" />
  <meta property="og:image" content="https://www.uptools.in/assets/og/home.png" />
  <meta name="twitter:card" content="summary_large_image" />

  <link rel="icon" sizes="50x50" type="image/svg+xml" href="/assets/logo/uptools-logo.svg" />

  <link rel="preload" href="/style.css?v=1.2.0" as="style" />
  <link rel="stylesheet" href="/style.css?v=1.2.0" media="print" onload="this.media='all'">
  <noscript><link rel="stylesheet" href="/style.css?v=1.2.0"></noscript>

  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"SoftwareApplication",
    "name":"UpTools Crypto Converter",
    "applicationCategory":"FinanceApplication",
    "operatingSystem":"Web",
    "url":"https://www.uptools.in/crypto-converter/",
    "description":"Convert crypto to fiat and coin-to-coin using live prices.",
    "featureList":["Coin to fiat","Coin to coin","Add fee %","Share results"],
    "offers":{"@type":"Offer","price":"0","priceCurrency":"USD"}
  }
  </script>

  <style>
    .grid{ display:grid; gap:12px; grid-template-columns:1fr }
    @media(min-width:820px){ .grid{ grid-template-columns:1.2fr .8fr } }
    .chip{ padding:.45rem .6rem; border-radius:999px; border:1px solid var(--border); background:#0b1326; cursor:pointer }
    .fx-presets{ display:flex; flex-wrap:wrap; gap:8px; margin:8px 0 }
    .kpi{ display:grid; gap:6px }
    .kpi .row{ display:flex; justify-content:space-between; border-top:1px dashed var(--border); padding:.35rem 0 }
  </style>
</head>
<body>
  <header class="site">
    <div class="header-inner">
      <a class="brand" href="/">
        <img class="hero-logo" src="/assets/logo/uptools-logo.svg" alt="UpTools" width="48" height="48" />
        <span>UpTools</span>
      </a>
      <nav class="nav-links" aria-label="Primary">
        <a href="/#tools">Tools</a>
        <a href="/crypto-prices/">Prices</a>
        <a aria-current="page" href="/crypto-converter/">Converter</a>
      </nav>
    </div>
  </header>

  <main class="wrap">
    <div class="tool-header">
      <div class="tool-icon" aria-hidden="true">₿→</div>
      <h1 style="margin:0">Crypto Converter</h1>
    </div>

    <section class="grid">
      <div class="card neon">
        <div class="fx-presets" aria-label="Popular conversions">
          <button class="chip" data-preset="BTC,INR">BTC → INR</button>
          <button class="chip" data-preset="ETH,USD">ETH → USD</button>
          <button class="chip" data-preset="SOL,USD">SOL → USD</button>
          <button class="chip" data-preset="BTC,ETH">BTC → ETH</button>
          <button class="chip" data-preset="ETH,SOL">ETH → SOL</button>
        </div>

        <label class="label" for="amt">Amount</label>
        <input id="amt" class="input" type="number" step="0.00000001" placeholder="e.g., 0.1" inputmode="decimal" />

        <div class="row" style="gap:8px">
          <div style="flex:1">
            <label class="label" for="from">From</label>
            <select id="from" class="input" aria-label="From"></select>
          </div>
          <button id="swap" class="btn secondary" title="Swap" aria-label="Swap" style="min-width:44px">↔</button>
          <div style="flex:1">
            <label class="label" for="to">To</label>
            <select id="to" class="input" aria-label="To"></select>
          </div>
        </div>

        <label class="label" for="fee">Fee / Spread</label>
        <div class="inline-help">
          <input id="fee" class="input" type="range" min="0" max="5" step="0.25" value="0" style="flex:1" />
          <output id="feeVal" for="fee" class="note" style="width:56px;text-align:right">0%</output>
        </div>

        <div class="row" style="gap:8px;margin-top:8px; align-items:center">
          <button id="go" class="btn">Convert</button>
          <button id="share" class="btn secondary">Share</button>
          <button id="copyRes" class="btn secondary">Copy</button>
          <label class="chip" style="gap:6px">Prec
            <select id="prec" class="input" style="max-width:90px">
              <option value="2">2</option>
              <option value="4" selected>4</option>
              <option value="6">6</option>
              <option value="8">8</option>
            </select>
          </label>
        </div>

        <div id="out" class="result" style="margin-top:8px"></div>
        <div id="meta" class="note mini" aria-live="polite"></div>
      </div>

      <aside class="card neon">
        <h2 style="margin-top:0">Overview</h2>
        <div class="kpi" id="kpi">
          <div class="row"><span>Rate (mid)</span><span id="kpiRate" class="amount">-</span></div>
          <div class="row"><span>With fee</span><span id="kpiAdjRate" class="amount">-</span></div>
          <div class="row"><span>Converted</span><span id="kpiOut" class="amount">-</span></div>
        </div>
      </aside>
    </section>

    <section class="card neon" aria-labelledby="help">
      <h2 id="help" style="margin-top:0">How it works</h2>
      <p class="note">Crypto prices come from CoinCap (USD). For fiat currencies (INR, EUR, GBP etc.), we apply mid-market FX similar to the Currency Converter. Coin-to-coin uses the ratio of USD prices.</p>
      <p class="note">Presets can help you start quickly. Adjust Fee % to simulate exchange or card spreads.</p>
      <div class="note">See also: <a href="/crypto-prices/">Crypto Prices</a> • <a href="/bitcoin-fees/">Bitcoin Fee Estimator</a> • <a href="/crypto-fear-greed/">Fear & Greed Index</a></div>
    </section>

    <footer class="note small site-footer">© <span id="y"></span> UpTools • <a href="/sitemap.xml">Sitemap</a> • <a href="/privacy-policy/">Privacy</a></footer>
  </main>

  <script type="module">
    import { $, $$, debounce } from "/scripts/utils.js";
    $("#y").textContent = new Date().getFullYear();

    const els = {
      amt: $("#amt"), from: $("#from"), to: $("#to"), fee: $("#fee"), feeVal: $("#feeVal"), prec: $("#prec"),
      go: $("#go"), swap: $("#swap"), out: $("#out"), meta: $("#meta"),
      kpiRate: $("#kpiRate"), kpiAdjRate: $("#kpiAdjRate"), kpiOut: $("#kpiOut"),
      share: $("#share"), copyRes: $("#copyRes")
    };

    const FIAT = ["USD","INR","EUR","GBP","AED","AUD","CAD","SGD"]; // concise list for UX
    let COINS = [];

    function isFiat(code){ return FIAT.includes(code); }

    function updateFeeLabel(){ els.feeVal.textContent = `${els.fee.value}%`; }
    els.fee.addEventListener('input', debounce(updateFeeLabel, 20));
    updateFeeLabel();

    const PX = (u) => `/proxy?nocache=1&u=${encodeURIComponent(u)}`;

    async function loadCoins() {
      const r = await fetch(PX('https://api.coincap.io/v2/assets?limit=100'));
      const j = await r.json();
      COINS = (j.data || []).map(c => ({ code: c.symbol, id: c.id, name: c.name, price: Number(c.priceUsd) })).filter(x => isFinite(x.price));
    }

    function fillDropdowns(){
      const frag = document.createDocumentFragment();
      // Crypto group
      const og1 = document.createElement('optgroup'); og1.label = 'Crypto';
      for (const c of COINS) { const o = document.createElement('option'); o.value = c.code; o.textContent = `${c.code} — ${c.name}`; og1.appendChild(o); }
      // Fiat group
      const og2 = document.createElement('optgroup'); og2.label = 'Fiat';
      for (const f of FIAT) { const o = document.createElement('option'); o.value = f; o.textContent = f; og2.appendChild(o); }
      frag.appendChild(og1); frag.appendChild(og2);
      els.from.replaceChildren(frag.cloneNode(true));
      els.to.replaceChildren(frag.cloneNode(true));
      els.from.value = 'BTC'; els.to.value = 'INR';
      // URL params
      const q = new URLSearchParams(location.search);
      els.from.value = q.get('from') || els.from.value;
      els.to.value = q.get('to') || els.to.value;
      els.amt.value = q.get('amount') || '';
      const f = Number(q.get('fee') || 0); if (!isNaN(f)) { els.fee.value = String(Math.min(5, Math.max(0, f))); updateFeeLabel(); }
    }

    async function fxRate(base, quote) {
      if (base === quote) return 1;
      try {
        const r = await fetch(PX(`https://api.exchangerate.host/latest?base=${base}&symbols=${quote}`));
        const j = await r.json();
        return Number(j?.rates?.[quote]) || 1;
      } catch { return 1; }
    }

    function coinPriceUSD(code){ const c = COINS.find(x => x.code === code); return c? c.price : NaN; }

    async function convert() {
      const amount = Number(els.amt.value || 0);
      if (!isFinite(amount) || amount < 0) { els.out.textContent = 'Enter a valid amount'; return; }
      const from = els.from.value, to = els.to.value; const feePct = Number(els.fee.value || 0)/100;
      let rate = 1; // how many TO per 1 FROM

      if (!isFiat(from) && !isFiat(to)) {
        // coin -> coin using USD
        const pFrom = coinPriceUSD(from), pTo = coinPriceUSD(to);
        if (!isFinite(pFrom) || !isFinite(pTo)) { els.out.textContent = 'Live price unavailable'; return; }
        rate = pFrom / pTo;
      } else if (!isFiat(from) && isFiat(to)) {
        // coin -> fiat
        const p = coinPriceUSD(from); if (!isFinite(p)) { els.out.textContent = 'Live price unavailable'; return; }
        if (to === 'USD') rate = p; else rate = p * await fxRate('USD', to);
      } else if (isFiat(from) && !isFiat(to)) {
        // fiat -> coin
        const p = coinPriceUSD(to); if (!isFinite(p) || p === 0) { els.out.textContent = 'Live price unavailable'; return; }
        const inUSD = from === 'USD' ? 1 : await fxRate(from, 'USD');
        rate = (1 * inUSD) / p;
      } else {
        // fiat -> fiat (defer to main currency tool ideally)
        rate = await fxRate(from, to);
      }

      const adjRate = rate * (1 - feePct);
      const out = amount * adjRate;
      const nf4 = new Intl.NumberFormat(undefined, { maximumFractionDigits: 8 });

      els.out.innerHTML = `
        <div class='row'><span>Rate</span><span class='amount'>1 ${from} = ${nf4.format(rate)} ${to}</span></div>
        <div class='row'><span>With fee (${(feePct*100).toFixed(2)}%)</span><span class='amount'>1 ${from} = ${nf4.format(adjRate)} ${to}</span></div>
        <div class='row'><span>Converted</span><span class='amount'>${nf4.format(out)} ${to}</span></div>
      `;
      els.kpiRate.textContent = nf4.format(rate);
      els.kpiAdjRate.textContent = nf4.format(adjRate);
      els.kpiOut.textContent = nf4.format(out) + ' ' + to;
      els.meta.textContent = 'Live rates (crypto: CoinCap • fiat: mid-market)';
    }

    function shareLink(){
      const u = new URL(location.href); u.searchParams.set('from', els.from.value); u.searchParams.set('to', els.to.value);
      if (els.amt.value) u.searchParams.set('amount', els.amt.value);
      if (Number(els.fee.value||0)>0) u.searchParams.set('fee', String(els.fee.value));
      u.searchParams.set('prec', els.prec.value);
      navigator.clipboard?.writeText(u.toString());
    }

    function copyResult(){
      const txt = (els.out.textContent||'').trim(); if (txt) navigator.clipboard?.writeText(txt);
    }

    els.swap.addEventListener('click', ()=>{ const a=els.from.value; els.from.value=els.to.value; els.to.value=a; convert(); savePrefs(); });
    els.go.addEventListener('click', ()=>{ convert(); savePrefs(); });
    els.share.addEventListener('click', shareLink);
    els.copyRes.addEventListener('click', copyResult);
    $$('.chip[data-preset]').forEach(b=>b.addEventListener('click', ()=>{ const [f,t]=b.getAttribute('data-preset').split(','); els.from.value=f; els.to.value=t; convert(); }));
    els.prec.addEventListener('change', ()=>{ convert(); savePrefs(); });

    function savePrefs(){
      try { localStorage.setItem('ct-last', JSON.stringify({ from: els.from.value, to: els.to.value, prec: els.prec.value })); } catch {}
    }

    (async function init(){
      try {
        await loadCoins(); fillDropdowns();
        const u = new URL(location.href);
        const p = u.searchParams.get('prec'); if (p) els.prec.value = p;
        try { const s = JSON.parse(localStorage.getItem('ct-last')||'{}'); if (s.from && s.to) { els.from.value=s.from; els.to.value=s.to; } if (s.prec) els.prec.value=s.prec; } catch {}
        const handlers = ['input','change'];
        handlers.forEach(ev=>{ els.amt.addEventListener(ev, ()=>{ convert(); savePrefs(); }); els.from.addEventListener(ev, ()=>{ convert(); savePrefs(); }); els.to.addEventListener(ev, ()=>{ convert(); savePrefs(); }); els.fee.addEventListener(ev, ()=>{ updateFeeLabel(); convert(); savePrefs(); }); });
        convert();
      }
      catch { els.meta.textContent = 'Failed to load live prices'; }
    })();
  </script>
</body>
</html>
