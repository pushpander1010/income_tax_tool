<!doctype html>
<html lang="en">

<head>
  <!-- Performance-first, production-safe -->
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta http-equiv="x-ua-compatible" content="IE=edge" />
  <meta name="color-scheme" content="dark light" />

  <title>Age Calculator (Pro) - Exact Age, Next Birthday, Working Days & Eligibility (India) | UpTools</title>
  <meta name="description"
    content="Free Age Calculator (Pro) by UpTools: calculate exact age in years, months, and days; show your next birthday & days left; totals in days/weeks/hours/minutes; half-birthday; Indian eligibility (voter, driving, senior/super senior); key milestones (18/21/30/60/80); retirement countdown; and working days between dates with weekend/holiday exclusions. How to use: enter date of birth, optionally set an 'As of' date, click Calculate. One-click summary copy, share link, and .ics calendar file for next birthday. Fast, privacy-first, mobile-friendly." />
  <meta name="robots" content="index,follow,max-snippet:-1,max-image-preview:large,max-video-preview:-1" />
  <meta name="theme-color" content="#0b1020" />
  <link rel="canonical" href="https://www.uptools.in/age-calculator/" />
  <link rel="alternate" href="https://www.uptools.in/age-calculator/" hreflang="en-IN" />
  <meta name="keywords"
    content="Age calculator, exact age, next birthday, working days between dates, India eligibility age, retirement countdown, half birthday calculator, age in days" />

  <!-- Favicons -->
  <link rel="icon" sizes="50x50" type="image/svg+xml" href="/assets/logo/uptools-logo.svg" />
  <link rel="apple-touch-icon" sizes="180x180" href="/assets/logo/uptools-logo.svg" />
  <link rel="mask-icon" href="/assets/logo/uptools-logo.svg" color="#22d3ee" />

  <!-- OG/Twitter -->
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Age Calculator (Pro) - Exact Age & Next Birthday" />
  <meta property="og:description"
    content="Exact age, next birthday countdown, totals, eligibility (India), milestones, retirement & working days." />
  <meta property="og:url" content="https://www.uptools.in/age-calculator/" />
  <meta property="og:site_name" content="UpTools" />
  <meta property="og:image" content="https://www.uptools.in/assets/og/age.png" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Age Calculator (Pro) - Exact Age & Next Birthday" />
  <meta name="twitter:description"
    content="Exact age, next birthday, milestones, retirement & working days. Fast and privacy-first." />
  <meta name="twitter:image" content="https://www.uptools.in/assets/og/age.png" />

  <!-- Hints (keep under 4) -->
  <link rel="preconnect" href="https://pagead2.googlesyndication.com" crossorigin>
  <link rel="dns-prefetch" href="//pagead2.googlesyndication.com">

  <!-- Tiny critical CSS to avoid FOUC -->
  <style>
    :root {
      --bg: #0f1419;
      --surface: #121826;
      --text: #e6edf3;
      --muted: #9aa4b2;
      --brand: #7aa2ff;
      --radius: .75rem
    }

    * {
      box-sizing: border-box
    }

    html {
      color-scheme: dark light;
      -webkit-text-size-adjust: 100%
    }

    body {
      margin: 0;
      font: 400 16px/1.6 system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, "Noto Sans", sans-serif;
      background: var(--bg);
      color: var(--text)
    }

    .container {
      width: min(100% - 24px, 1120px);
      margin-inline: auto
    }

    .card {
      background: var(--surface);
      border: 1px solid #212a3a;
      border-radius: var(--radius);
      padding: 1rem;
      overflow: auto;
    }

    .btn {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: .65rem .9rem;
      border-radius: var(--radius);
      background: var(--brand);
      color: #0b1020;
      border: 0;
      font-weight: 700;
      cursor: pointer
    }

    .btn.secondary {
      background: transparent;
      color: var(--text);
      border: 1px solid #2a3550
    }

    .grid {
      display: grid;
      gap: 12px;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr))
    }

    .muted {
      color: var(--muted);
      font-size: 12px
    }

    .textarea {
      width: 100%;
      min-height: 60px;
      padding: 10px 12px;
      border-radius: 8px;
      border: 1px solid #2a3550;
      background: #0b1224;
      color: var(--text)
    }

    .pill {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 6px 10px;
      border-radius: 999px;
      border: 1px solid #2a3550;
      background: #0b1224;
      font-size: 12px
    }

    .kvi {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 8px 0;
      border-bottom: 1px solid rgba(255, 255, 255, .06)
    }

    .kvi:last-child {
      border-bottom: 0
    }

    .yt-wrap {
      display: grid;
      place-items: center
    }
  </style>

  <!-- Common CSS (non-blocking) -->
  <link rel="preload" href="/style.css?v=1.2.0" as="style" />
  <link rel="stylesheet" href="/style.css?v=1.2.0" media="print" onload="this.media='all'" />
  <noscript>
    <link rel="stylesheet" href="/style.css?v=1.2.0" />
  </noscript>

  <!-- Structured Data -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"SoftwareApplication",
    "name":"Age Calculator (Pro)",
    "applicationCategory":"UtilityApplication",
    "operatingSystem":"Any",
    "url":"https://www.uptools.in/age-calculator/",
    "image":"https://www.uptools.in/assets/og/age.png",
    "description":"Calculate exact age, next birthday countdown, totals, half-birthday, milestones, eligibility (India), retirement countdown and working days.",
    "offers":{"@type":"Offer","price":"0","priceCurrency":"INR"},
    "publisher":{"@type":"Organization","name":"UpTools","url":"https://www.uptools.in/","logo":{"@type":"ImageObject","url":"https://www.uptools.in/assets/logo/uptools-logo.svg"}}
  }
  </script>
  <script type="application/ld+json">
  {"@context":"https://schema.org","@type":"FAQPage","mainEntity":[
    {"@type":"Question","name":"How do I calculate my exact age?","acceptedAnswer":{"@type":"Answer","text":"Enter your date of birth and optionally an 'As of' date. The calculator shows years, months and days, plus totals in days/weeks/hours/minutes."}},
    {"@type":"Question","name":"Can I see the next birthday countdown?","acceptedAnswer":{"@type":"Answer","text":"Yes. You'll see the date, days left and the age you will turn. You can also download a .ics file to add it to your calendar."}},
    {"@type":"Question","name":"Does it show legal eligibility in India?","acceptedAnswer":{"@type":"Answer","text":"It flags eligibility for voter ID (18+), driving licence (18+; 16+ for â‰¤50cc), senior citizen (60+) and super senior (80+)."}},
    {"@type":"Question","name":"How do I count working days between dates?","acceptedAnswer":{"@type":"Answer","text":"Use the Working Days section. Select start/end dates, tick 'Exclude weekends', and optionally paste holidays (YYYY-MM-DD)."}}
  ]}
  </script>
  <!-- Mark the embedded video for SEO -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"VideoObject",
    "name":"How to Calculate Your Exact Age (With Examples)",
    "description":"A short guide showing methods to calculate exact age in years, months and days, and how to get the next birthday.",
    "thumbnailUrl":"https://i.ytimg.com/vi/2S0eD6CkI0Q/hqdefault.jpg",
    "uploadDate":"2023-01-01",
    "contentUrl":"https://www.youtube.com/watch?v=2S0eD6CkI0Q",
    "embedUrl":"https://www.youtube.com/embed/2S0eD6CkI0Q"
  }
  </script>
</head>

<body>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6216304334889617"
    crossorigin="anonymous"></script>
  <!-- horizontal_fixed -->
  <ins class="adsbygoogle" style="display:inline-block;width:728px;height:90px" data-ad-client="ca-pub-6216304334889617"
    data-ad-slot="3354760728"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
  <!-- Header -->
  <header class="site" role="banner">
    <div class="header-inner container">
      <a class="brand" href="/" aria-label="UpTools Home">
        <img src="/assets/logo/uptools-logo.svg" alt="UpTools logo" width="28" height="28" loading="eager">
        <b>UpTools</b>
      </a>
      <nav class="nav-links" aria-label="Primary">
        <a href="/#tools">Tools</a>
        <a href="/income-tax-tool/">Income Tax</a>
        <a href="/emi-calculator/">EMI</a>
        <a aria-current="page" href="/age-calculator/">Age</a>
      </nav>
    </div>
  </header>

  <main class="wrap container" id="main">
    <!-- Breadcrumb -->
    <nav aria-label="Breadcrumb" class="note small" style="margin-bottom:8px">
      <a href="/">Home</a> â€º <span aria-current="page">Age Calculator</span>
    </nav>

    <!-- Hero (compact) -->
    <section class="card hero">
      <img class="hero-logo" src="/assets/tools/age.png" alt="Birthday cake icon" width="180" height="180"
        loading="eager">
      <div>
        <h1>Age Calculator (Pro)</h1>
        <p class="note">
          Exact age, next birthday, half-birthday, milestones, eligibility (India) & working days.
          <span class="pill">ðŸ”’ No logins</span>
          <span class="pill">âš¡ Instant</span>
          <span class="pill">ðŸ“± Mobile-first</span>
        </p>
      </div>
      <!-- SEO supporting artwork (fixed size for CLS) -->
      <img src="/assets/ui/age-illustration.png" alt="Illustration: calendar and birthday reminder" width="96"
        height="96" loading="lazy" style="margin-left:auto;border-radius:12px;border:1px solid var(--border)">
    </section>

    <!-- Inputs -->
    <section class="card">
      <div class="grid">
        <div>
          <label class="label" for="dob">Date of Birth</label>
          <input id="dob" class="input" type="date" />
        </div>
        <div>
          <label class="label" for="asof">As of Date</label>
          <input id="asof" class="input" type="date" />
          <div class="muted">Defaults to today if empty.</div>
        </div>
        <div>
          <label class="label" for="retAge">Retirement Age</label>
          <input id="retAge" class="input" type="number" min="40" max="80" step="1" value="60" />
          <div class="muted">Used for retirement countdown.</div>
        </div>
      </div>

      <div class="row" style="border:0;padding:0;margin-top:12px;gap:12px;flex-wrap:wrap">
        <button id="calcBtn" class="btn" type="button">Calculate</button>
        <button id="copyBtn" class="btn secondary" type="button">Copy Summary</button>
        <button id="shareBtn" class="btn secondary" type="button">Share</button>
        <button id="printBtn" class="btn secondary" type="button">Print</button>
        <button id="icsBtn" class="btn secondary" type="button">Add Next Birthday (.ics)</button>
        <button id="resetBtn" class="btn secondary" type="button">Reset</button>
      </div>
      <p class="muted" style="margin-top:6px">Tip: Set "As of" to any past/future date to see age on that date (useful
        for forms).</p>
    </section>

    <!-- Output -->
    <section id="summary" class="card" aria-live="polite"></section>

    <!-- Milestones + Half-birthday -->
    <section id="milestones" class="card" aria-live="polite"></section>

    <!-- Working days -->
    <section class="card" style="margin-top:16px">
      <h2 style="margin:0 0 8px">Working Days Between Dates</h2>
      <div class="grid">
        <div>
          <label class="label" for="wdStart">Start Date</label>
          <input id="wdStart" class="input" type="date" />
        </div>
        <div>
          <label class="label" for="wdEnd">End Date</label>
          <input id="wdEnd" class="input" type="date" />
        </div>
        <div>
          <label class="check"><input id="wdWeekends" type="checkbox" checked /> <span>Exclude weekends</span></label>
        </div>
      </div>
      <label class="label" for="wdHolidays" style="margin-top:12px">Optional Holidays (YYYY-MM-DD, comma
        separated)</label>
      <textarea id="wdHolidays" class="textarea" placeholder="2025-01-26, 2025-08-15"></textarea>
      <div class="row" style="border:0;padding:0;margin-top:12px;gap:12px;flex-wrap:wrap">
        <button id="wdCalcBtn" class="btn" type="button">Count Working Days</button>
        <span id="wdOut" class="note"></span>
      </div>
      <p class="note" style="margin-top:8px">Also try:
        <a href="/date-difference/">Date Difference</a> Â·
        <a href="/bmi-calculator/">BMI</a> Â·
        <a href="/emi-calculator/">EMI</a> Â·
        <a href="/gst-calculator/">GST</a>
      </p>
    </section>

    <!-- Learn (video) -->
    <section class="card yt-wrap" aria-label="How to calculate your age">
      <!-- Fixed width & height to stabilize layout -->
      <!-- Working YouTube embed (fixed size to avoid CLS) -->
      <iframe width="100%" height="100%" src="https://www.youtube.com/embed/ENHaQgwuvVs"
        title="How to Calculate Age from Date of Birth (Excel)" loading="lazy"
        referrerpolicy="strict-origin-when-cross-origin"
        allow="accelerometer; clipboard-write; encrypted-media; picture-in-picture; web-share" allowfullscreen></iframe>

      <p class="note" style="margin:8px 0 0">Resource: See <a href="https://en.wikipedia.org/wiki/Age"
          rel="nofollow noopener" target="_blank">what "age" means</a> and <a
          href="https://en.wikipedia.org/wiki/Legal_driving_age" rel="nofollow noopener" target="_blank">legal driving
          ages</a>.</p>
    </section>

    <!-- Related tools / Internal links (with textual subpage logos) -->
    <section class="card">
      <h2 style="margin-top:0">Related at UpTools</h2>
      <ul>
        <li><a class="tool-link accent-indigo" href="/date-difference/"><span class="ico">DD</span> Date Difference
            Calculator</a></li>
        <li><a class="tool-link accent-teal" href="/emi-calculator/"><span class="ico">EMI</span> EMI Calculator</a>
        </li>
        <li><a class="tool-link accent-violet" href="/gst-calculator/"><span class="ico">GST</span> GST Calculator</a>
        </li>
        <li><a class="tool-link accent-slate" href="/about/"><span class="ico">ABT</span> About UpTools</a></li>
        <li><a class="tool-link accent-sky" href="/contact/"><span class="ico">CT</span> Contact</a></li>
      </ul>
    </section>

    <footer class="note small site-footer" role="contentinfo" style="margin-top:16px">
      Â© <span id="y"></span> UpTools Â· <a href="/sitemap.xml">Sitemap</a> Â· <a href="/about/">About</a> Â· <a
        href="/contact/">Contact</a>
      <button id="toTop" class="btn sm secondary" style="float:right">â†‘ Top</button>
    </footer>
  </main>

  <!-- Year + Main JS (uses common /scripts/utils.js) -->
  <script type="module">
    import { $, setText, debounce } from '/scripts/utils.js';

    // Footer year + nav
    setText($('#y'), new Date().getFullYear());
    $('#toTop').addEventListener('click', () => window.scrollTo({ top: 0, behavior: 'smooth' }));

    // ---------- Utilities ----------
    const pad = n => String(n).padStart(2, '0');
    const toISO = d => `${d.getFullYear()}-${pad(d.getMonth() + 1)}-${pad(d.getDate())}`;
    const parseDate = v => v ? new Date(v + 'T00:00:00') : null; // TZ-safe
    const fmt = new Intl.NumberFormat('en-IN');
    const zwd = new Intl.DateTimeFormat('en-IN', { weekday: 'long' });

    function toast(msg) {
      const n = document.createElement('div');
      n.textContent = msg;
      Object.assign(n.style, { position: 'fixed', left: '50%', transform: 'translateX(-50%)', bottom: '18px', background: 'var(--card)', color: 'var(--text)', padding: '8px 12px', border: '1px solid var(--border)', borderRadius: '8px', fontSize: '12px', zIndex: 9999 });
      document.body.appendChild(n); setTimeout(() => n.remove(), 1300);
    }

    // ---------- Core date math ----------
    function diffYMD(d1, d2) {
      let y = d2.getFullYear() - d1.getFullYear();
      let m = d2.getMonth() - d1.getMonth();
      let d = d2.getDate() - d1.getDate();
      if (d < 0) { const pmLen = new Date(d2.getFullYear(), d2.getMonth(), 0).getDate(); d += pmLen; m -= 1; }
      if (m < 0) { m += 12; y -= 1; }
      return { years: y, months: m, days: d };
    }
    const daysBetween = (a, b) => Math.round((b - a) / 86400000);

    function nextBirthday(dob, asof) {
      const next = new Date(asof.getFullYear(), dob.getMonth(), dob.getDate());
      if (next < asof) next.setFullYear(asof.getFullYear() + 1);
      // Feb 29 handling
      if (dob.getMonth() === 1 && dob.getDate() === 29) {
        const y = next.getFullYear(); const leap = (y % 4 === 0 && y % 100 !== 0) || (y % 400 === 0);
        if (!leap) next.setDate(28);
      }
      return next;
    }
    const addMonths = (d, m) => new Date(d.getFullYear(), d.getMonth() + m, d.getDate());

    // ---------- Extra signals (SEO + real-world usefulness) ----------
    const zodiac = (m, d) => {
      const z = [
        ["Capricorn", 1, 19], ["Aquarius", 2, 18], ["Pisces", 3, 20], ["Aries", 4, 19], ["Taurus", 5, 20], ["Gemini", 6, 20],
        ["Cancer", 7, 22], ["Leo", 8, 22], ["Virgo", 9, 22], ["Libra", 10, 22], ["Scorpio", 11, 21], ["Sagittarius", 12, 21], ["Capricorn", 12, 31]
      ];
      const md = m * 100 + d;
      const cuts = [119, 218, 320, 419, 520, 620, 722, 822, 922, 1022, 1121, 1221, 1231];
      const names = ["Capricorn", "Aquarius", "Pisces", "Aries", "Taurus", "Gemini", "Cancer", "Leo", "Virgo", "Libra", "Scorpio", "Sagittarius", "Capricorn"];
      const idx = cuts.findIndex(c => md <= c);
      return names[idx < 0 ? 0 : idx];
    };
    const chineseZodiac = y => ["Rat", "Ox", "Tiger", "Rabbit", "Dragon", "Snake", "Horse", "Goat", "Monkey", "Rooster", "Dog", "Pig"][((y - 4) % 12 + 12) % 12];
    const ageBand = y => y < 13 ? "Child" : y < 18 ? "Teen" : y < 30 ? "Young Adult" : y < 45 ? "Adult" : y < 60 ? "Middle-aged" : "Senior";

    function eligibilityBadges(ageYears) {
      const out = [];
      if (ageYears >= 18) out.push('âœ… Voter (18+)'); else out.push('â¬œ Voter (18+)');
      if (ageYears >= 18) out.push('âœ… Driving Licence (18+)');
      else if (ageYears >= 16) out.push('âœ… Learner â‰¤50cc (16+)'); else out.push('â¬œ Driving (18+)');
      if (ageYears >= 60) out.push('âœ… Senior Citizen (60+)'); else out.push('â¬œ Senior Citizen (60+)');
      if (ageYears >= 80) out.push('âœ… Super Senior (80+)'); else out.push('â¬œ Super Senior (80+)');
      return out;
    }

    function retirementCountdown(dob, targetAge, asof) {
      const retire = new Date(dob); retire.setFullYear(retire.getFullYear() + targetAge);
      const remaining = diffYMD(asof, retire);
      return { date: retire, remaining, daysLeft: Math.max(0, daysBetween(asof, retire)) };
    }

    function totalUnits(dob, asof) {
      const ms = asof - dob;
      const days = Math.floor(ms / 86400000);
      return { days, weeks: Math.floor(days / 7), hours: Math.floor(ms / 3600000), minutes: Math.floor(ms / 60000) };
    }

    // Milestones
    function milestonesBlock(dob) {
      const rows = [
        { label: 'Half-birthday this year', date: addMonths(new Date(dob.getFullYear(), dob.getMonth(), dob.getDate()), 6) },
        { label: 'Turn 10', date: new Date(dob.getFullYear() + 10, dob.getMonth(), dob.getDate()) },
        { label: 'Turn 18', date: new Date(dob.getFullYear() + 18, dob.getMonth(), dob.getDate()) },
        { label: 'Turn 21', date: new Date(dob.getFullYear() + 21, dob.getMonth(), dob.getDate()) },
        { label: 'Turn 30', date: new Date(dob.getFullYear() + 30, dob.getMonth(), dob.getDate()) },
        { label: 'Turn 60 (Senior)', date: new Date(dob.getFullYear() + 60, dob.getMonth(), dob.getDate()) },
        { label: 'Turn 80 (Super Senior)', date: new Date(dob.getFullYear() + 80, dob.getMonth(), dob.getDate()) }
      ];
      return rows.map(r => `<div class="kvi"><span>${r.label}</span><span class="amount">${toISO(r.date)}</span></div>`).join('');
    }

    // Working days
    const parseHolidayList = (txt) => new Set((txt || '').split(',').map(s => s.trim()).filter(Boolean).map(s => s.replace(/\s+/g, '')));
    function countWorkingDays(start, end, excludeWeekends = true, holidaysSet = new Set()) {
      if (!start || !end) return 0; if (end < start) [start, end] = [end, start];
      let d = new Date(start), c = 0;
      while (d <= end) {
        const wk = (d.getDay() === 0 || d.getDay() === 6);
        const hol = holidaysSet.has(toISO(d));
        if ((!excludeWeekends || !wk) && !hol) c++;
        d.setDate(d.getDate() + 1);
      }
      return c;
    }

    // ---------- Rendering ----------
    function renderSummary(dob, asof, retAgeVal) {
      if (!dob) { $('#summary').innerHTML = '<p class="note">Enter your Date of Birth.</p>'; $('#milestones').innerHTML = ''; return; }
      if (!asof) asof = new Date();
      if (asof < dob) { $('#summary').innerHTML = '<p class="note">"As of" date cannot be before DOB.</p>'; $('#milestones').innerHTML = ''; return; }

      const ymd = diffYMD(dob, asof);
      const totals = totalUnits(dob, asof);
      const nb = nextBirthday(dob, asof);
      const daysToNext = Math.max(0, daysBetween(asof, nb));
      const badges = eligibilityBadges(ymd.years);
      const weekday = zwd.format(dob);
      const retire = retirementCountdown(dob, retAgeVal, asof);

      const z1 = zodiac(dob.getMonth() + 1, dob.getDate());
      const z2 = chineseZodiac(dob.getFullYear());
      const band = ageBand(ymd.years);
      const leap = (dob.getMonth() === 1 && dob.getDate() === 29) ? 'Yes (Feb 29)' : 'No';

      $('#summary').innerHTML = `
        <div class="grid" style="margin-top:0">
          <div class="card" style="margin:0">
            <h3 style="margin:0 0 8px">Exact Age (as of ${toISO(asof)})</h3>
            <div class="kvi"><span>Years</span><span class="amount">${fmt.format(ymd.years)}</span></div>
            <div class="kvi"><span>Months</span><span class="amount">${fmt.format(ymd.months)}</span></div>
            <div class="kvi"><span>Days</span><span class="amount">${fmt.format(ymd.days)}</span></div>
            <div class="kvi"><span>Born on</span><span class="amount">${weekday}</span></div>
            <div class="kvi"><span>Leap-year birthday</span><span class="amount">${leap}</span></div>
            <div class="kvi"><span>Age band</span><span class="amount">${band}</span></div>
          </div>

          <div class="card" style="margin:0">
            <h3 style="margin:0 0 8px">Next Birthday</h3>
            <div class="kvi"><span>Date</span><span class="amount">${toISO(nb)}</span></div>
            <div class="kvi"><span>Days to go</span><span class="amount">${fmt.format(daysToNext)}</span></div>
            <div class="kvi"><span>Will turn</span><span class="amount">${fmt.format(ymd.years + 1)}</span></div>
            <div class="kvi"><span>Western Zodiac</span><span class="amount">${z1}</span></div>
            <div class="kvi"><span>Chinese Zodiac</span><span class="amount">${z2}</span></div>
          </div>

          <div class="card" style="margin:0">
            <h3 style="margin:0 0 8px">Totals</h3>
            <div class="kvi"><span>Days</span><span class="amount">${fmt.format(totals.days)}</span></div>
            <div class="kvi"><span>Weeks</span><span class="amount">${fmt.format(totals.weeks)}</span></div>
            <div class="kvi"><span>Hours</span><span class="amount">${fmt.format(totals.hours)}</span></div>
            <div class="kvi"><span>Minutes</span><span class="amount">${fmt.format(totals.minutes)}</span></div>
          </div>

          <div class="card" style="margin:0">
            <h3 style="margin:0 0 8px">Eligibility (India)</h3>
            <div class="chips" style="margin-top:6px">${badges.map(b => `<span class="pill">${b}</span>`).join('')}</div>
            <div class="divider" style="margin:10px 0"></div>
            <h4 style="margin:0 0 6px; font-size:14px">Retirement</h4>
            <div class="kvi"><span>Target age</span><span>${retAgeVal}</span></div>
            <div class="kvi"><span>Retirement date</span><span class="amount">${toISO(retire.date)}</span></div>
            <div class="kvi"><span>Days left</span><span class="amount">${fmt.format(retire.daysLeft)}</span></div>
          </div>
        </div>
      `;

      $('#milestones').innerHTML = `
        <h2 style="margin-top:0">Milestones & Half-Birthday</h2>
        ${milestonesBlock(dob)}
      `;
    }

    function copySummary(dob, asof, retAgeVal) {
      if (!dob) { toast('Enter DOB first'); return; }
      asof ||= new Date();
      const ymd = diffYMD(dob, asof);
      const nb = nextBirthday(dob, asof);
      const text = [
        `DOB: ${toISO(dob)}`,
        `As of: ${toISO(asof)}`,
        `Exact age: ${ymd.years}y ${ymd.months}m ${ymd.days}d`,
        `Next birthday: ${toISO(nb)}`,
        `Retirement (${retAgeVal}+): ${toISO(new Date(dob.getFullYear() + retAgeVal, dob.getMonth(), dob.getDate()))}`
      ].join('\n');
      navigator.clipboard?.writeText(text).then(() => toast('Copied summary'));
    }

    function downloadICSNextBirthday(dob, asof) {
      if (!dob) { toast('Enter DOB first'); return; }
      asof ||= new Date();
      const nb = nextBirthday(dob, asof);
      const dt = `${nb.getFullYear()}${pad(nb.getMonth() + 1)}${pad(nb.getDate())}`;
      const ics = [
        'BEGIN:VCALENDAR', 'VERSION:2.0', 'PRODID:-//UpTools//Age Next Birthday//EN',
        'BEGIN:VEVENT',
        `UID:uptools-age-${dt}@uptools.in`,
        `DTSTAMP:${dt}T000000Z`,
        `DTSTART;VALUE=DATE:${dt}`,
        'SUMMARY:Birthday',
        'DESCRIPTION:Generated by UpTools Age Calculator',
        'END:VEVENT', 'END:VCALENDAR'
      ].join('\r\n');
      const blob = new Blob([ics], { type: 'text/calendar' });
      const a = document.createElement('a'); a.href = URL.createObjectURL(blob); a.download = `next-birthday-${dt}.ics`; a.click(); URL.revokeObjectURL(a.href);
    }

    function updateURL(dob, asof, retAge) {
      const u = new URL(location.href);
      dob ? u.searchParams.set('dob', toISO(dob)) : u.searchParams.delete('dob');
      asof ? u.searchParams.set('asof', toISO(asof)) : u.searchParams.delete('asof');
      u.searchParams.set('ret', retAge || '60');
      history.replaceState({}, '', u);
      localStorage.setItem('age:last', u.searchParams.toString());
    }

    function loadFromURLOrMemory() {
      const saved = localStorage.getItem('age:last');
      const qs = new URLSearchParams(location.search || saved || '');
      const dob = qs.get('dob'); const as = qs.get('asof'); const ret = qs.get('ret');
      if (dob) $('#dob').value = dob;
      if (as) $('#asof').value = as;
      if (ret) $('#retAge').value = ret;
    }

    // Working days
    function runWorkingDays() {
      const s = parseDate($('#wdStart').value);
      const e = parseDate($('#wdEnd').value);
      const exW = $('#wdWeekends').checked;
      const hol = parseHolidayList($('#wdHolidays').value);
      if (!s || !e) { $('#wdOut').textContent = 'Select start and end dates.'; return; }
      const count = countWorkingDays(s, e, exW, hol);
      $('#wdOut').textContent = `Working days: ${count}`;
    }

    // Bind
    document.addEventListener('DOMContentLoaded', () => {
      if (!$('#asof').value) $('#asof').value = toISO(new Date());
      loadFromURLOrMemory();

      const calc = () => {
        const dob = parseDate($('#dob').value);
        const asof = parseDate($('#asof').value) || new Date();
        const retAgeVal = Math.max(40, Math.min(80, +$('#retAge').value || 60));
        renderSummary(dob, asof, retAgeVal);
        if (dob) updateURL(dob, asof, retAgeVal);
      };

      $('#calcBtn').addEventListener('click', calc);
      ['dob', 'asof', 'retAge'].forEach(id => $('#' + id).addEventListener('change', calc));
      ['dob', 'asof'].forEach(id => $('#' + id).addEventListener('keydown', e => { if (e.key === 'Enter') { e.preventDefault(); calc(); } }));

      $('#copyBtn').addEventListener('click', () => {
        const dob = parseDate($('#dob').value);
        const asof = parseDate($('#asof').value) || new Date();
        copySummary(dob, asof, +$('#retAge').value || 60);
      });
      $('#shareBtn').addEventListener('click', () => {
        const u = location.href;
        if (navigator.share) navigator.share({ title: 'Age Calculator - UpTools', url: u }).catch(() => { });
        else { navigator.clipboard?.writeText(u); toast('Link copied'); }
      });
      $('#printBtn').addEventListener('click', () => window.print());
      $('#icsBtn').addEventListener('click', () => {
        const dob = parseDate($('#dob').value);
        const asof = parseDate($('#asof').value) || new Date();
        downloadICSNextBirthday(dob, asof);
      });
      $('#resetBtn').addEventListener('click', () => {
        $('#dob').value = ''; $('#asof').value = toISO(new Date()); $('#retAge').value = 60;
        $('#summary').innerHTML = ''; $('#milestones').innerHTML = '';
        history.replaceState({}, '', location.pathname); localStorage.removeItem('age:last');
      });

      // Working days
      $('#wdCalcBtn').addEventListener('click', runWorkingDays);

      // Auto-calc if dob preset
      if ($('#dob').value) calc();
    });
  </script>
</body>

</html>